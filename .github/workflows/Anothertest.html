<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BusinessCasual - Personalized Event Recommendations for Mary Adeniji</title>
</head> 
<body>
  <a href="Index">Click here for the Homepage</a>
  <h1>BusinessCasual - Personalized Event Recommendations</h1>
  <h2>Welcome, Mary Adeniji!</h2>

  <p>We're excited to recommend some events for you based on your social and professional interests.</p>

  <div id="event-recommendations">
    <!-- Event recommendations will be displayed here -->
  </div>

  <script>
    // Simulating Mary's location (you can replace this with a user input or geolocation)
    var maryLocation = "New York";

    // Define Mary's interests
    var maryInterests = ["romantic novels", "playing tennis", "software development"];

    // Make a request to the BusinessCasual API to get personalized event recommendations for Mary
    var xhr = new XMLHttpRequest();
    xhr.open("GET", `https://api.businesscasual.com/events?location=${maryLocation}`);
    xhr.onload = function() {
      if (xhr.status === 200) {
        // Success!
        var events = JSON.parse(xhr.responseText);

        // Filter events based on Mary's interests
        var filteredEvents = events.filter(function(event) {
          for (var i = 0; i < maryInterests.length; i++) {
            if (event.interests.includes(maryInterests[i])) {
              return true;
            }
          }
          return false;
        });

        // Display the event recommendations on the page
        var eventRecommendationsDiv = document.getElementById("event-recommendations");
        if (filteredEvents.length > 0) {
          for (var i = 0; i < filteredEvents.length; i++) {
            var event = filteredEvents[i];

            // Create an HTML element for the event
            var eventElement = document.createElement("div");
            eventElement.classList.add("event");

            // Add the event details to the HTML element
            eventElement.innerHTML = `
              <h3>${event.name}</h3>
              <p>${event.description}</p>
              <p>Date: ${event.date}</p>
              <p>Time: ${event.time}</p>
              <p>Location: ${event.location}</p>
            `;

            // Add the event element to the event recommendations div
            eventRecommendationsDiv.appendChild(eventElement);
          }
        } else {
          eventRecommendationsDiv.innerHTML = "<p>No events found matching your interests.</p>";
        }
      } else {
        // Error handling
        console.error(xhr.statusText);
      }
    };
    xhr.send();
  </script>
</body>
</html>
